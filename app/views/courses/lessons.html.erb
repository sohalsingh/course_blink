<ol class="flex items-center whitespace-nowrap" aria-label="Breadcrumb">
  <li class="inline-flex items-center">
    <a
      class="
        flex items-center text-sm text-gray-500 hover:text-blue-600 focus:outline-none
        focus:text-blue-600 dark:focus:text-blue-500
      "
      href="/"
    >
      Home
    </a>
    <svg
      class="
        flex-shrink-0 mx-2 overflow-visible h-4 w-4 text-gray-400 dark:text-neutral-600
        dark:text-neutral-600
      "
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    ><path d="m9 18 6-6-6-6"/></svg>
  </li>
  <li class="inline-flex items-center">
    <a
      class="
        flex items-center text-sm text-gray-500 hover:text-blue-600 focus:outline-none
        focus:text-blue-600 dark:focus:text-blue-500
      "
      href="/courses"
    >
      Courses
      <svg
        class="
          flex-shrink-0 mx-2 overflow-visible h-4 w-4 text-gray-400 dark:text-neutral-600
          dark:text-neutral-600
        "
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      ><path d="m9 18 6-6-6-6"/></svg>
    </a>
  </li>
  <li class="inline-flex items-center">
    <a
      class="
        flex items-center text-sm text-gray-500 hover:text-blue-600 focus:outline-none
        focus:text-blue-600 dark:focus:text-blue-500
      "
      href="<%= course_path(@course) %>"
    >
      <%= @course.title %>
      <svg
        class="
          flex-shrink-0 mx-2 overflow-visible h-4 w-4 text-gray-400 dark:text-neutral-600
          dark:text-neutral-600
        "
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      ><path d="m9 18 6-6-6-6"/></svg>
    </a>
  </li>
  <li
    class="
      inline-flex items-center text-sm font-semibold text-gray-800 truncate
      dark:text-gray-200
    "
    aria-current="page"
  >
    Lesson
  </li>
</ol>
<!-- Card Blog -->
<div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
  <!-- Grid -->
  <div class="grid sm:grid-cols-2 sm:items-center gap-8">
    <div class="sm:order-2">
      <div class="relative pt-[50%] sm:pt-[100%] rounded-lg">
        <img
          class="w-full h-full absolute top-0 start-0 object-cover rounded-lg"
          src="<%= @course.photo_url %>"
          alt="Course Image"
        >
      </div>
    </div>
    <!-- End Col -->
    <div class="sm:order-1">
      <h2
        class="
          text-2xl font-bold md:text-3xl lg:text-4xl lg:leading-tight xl:text-5xl
          xl:leading-tight text-gray-800 dark:text-gray-200
        "
      >
        <p
          class="
            hover:text-blue-600 dark:text-gray-300 dark:hover:text-white
            dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600
            cursor-pointer
          "
        >
          <%= @course.title %>
        </p>
      </h2>

      <p
        class="
          mb-5 inline-flex items-center gap-1.5 py-1.5 px-3 rounded-md text-lg font-medium
          bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200
        "
      >
        <%= @course.description %>
      </p>
    </div>
    <!-- End Col -->
  </div>
  <!-- End Grid --> <!-- Avatar -->
  <% if @course.created_by.present? %>
    <div class="mt-6 sm:mt-10 flex items-center">
      <div class="flex-shrink-0">
        <img
          class="h-10 w-10 sm:h-14 sm:w-14 rounded-full"
          src="<%= @course.created_by.gravatar %>"
          alt="Image Description"
        >
      </div>

      <div class="ms-3 sm:ms-4">
        <p class="sm:mb-1 font-semibold text-gray-800 dark:text-gray-200">
          <%= @course.created_by.name.capitalize %>
        </p>
        <p class="text-xs text-gray-500">
          <%= @course.created_by.role.capitalize %>
        </p>
      </div>
    </div>
  <% end %>
  <!-- End Avatar -->
</div>
<!-- End Card Blog -->
<div class="pb-8">
  <h1 class="text-xl lg:text-4xl mb-4 font-medium dark:text-white">Lessons:
  </h1>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <% @lessons.each do |lesson| %>
      <div
        style="border-radius: 10px; justify-content: space-between;"
        class="
          overflow-hidden relative flex flex-col bg-white border shadow-sm rounded-3xl p-4
          md:p-5 dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]
        "
      >
        <% if lesson.viewed_lesson? current_user %>
          <div class="absolute right-0 top-0 h-16 w-16">
            <div
              class="
                absolute transform rotate-45 bg-green-600 text-center text-white font-semibold
                py-1 right-[-45px] top-[22px] w-[170px]
              "
            >
              Viewed
            </div>
          </div>
        <% end %>
        <div>
          <h3 class="text-lg font-bold text-gray-800 dark:text-white">
            <%= lesson.title %>
          </h3>
          <p class="mt-2 text-gray-500 dark:text-gray-400">
            <%= if lesson.description.nil?
              "..."
            else
              lesson.description.truncate(100, omission: ".....")
            end %>
          </p>
        </div>
        <a
          style="color: rgb(59 130 246 / 1);"
          class="
            mt-3 inline-flex items-center gap-x-1 text-sm font-semibold rounded-lg border
            border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50
            disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400
            dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600
          "
          href="<%= show_course_lesson_path(@course, lesson) %>"
        >
          View Lesson
          <svg
            class="flex-shrink-0 w-4 h-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          ><path d="m9 18 6-6-6-6"/></svg>
        </a>
      </div>
    <% end %>
  </div>
</div>

<div class="pb-8">
  <h1 class="text-xl lg:text-4xl mb-4 font-medium dark:text-white">Quizzes:
  </h1>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <% @quizzes.each do |quiz| %>
      <div
        style="border-radius: 10px; justify-content: space-between;"
        class="
          overflow-hidden relative flex flex-col bg-white border shadow-sm rounded-3xl p-4
          md:p-5 dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]
        "
      >
        <% if quiz.attempted_by? current_user %>
          <div class="absolute right-0 top-0 h-16 w-16">
            <div
              class="
                absolute transform rotate-45 bg-green-600 text-center text-white font-semibold
                py-1 right-[-60px] top-[12px] w-[170px]
              "
            >
              Done
            </div>
          </div>
        <% end %>
        <div>
          <h3 class="text-lg font-bold text-gray-800 dark:text-white">
            <%= quiz.title %>
          </h3>
        </div>
        <% if !quiz.attempted_by? current_user %>
          <a
            style="color: rgb(59 130 246 / 1);"
            class="
              mt-3 inline-flex items-center gap-x-1 text-sm font-semibold rounded-lg border
              border-transparent text-blue-600 hover:text-blue-800 disabled:opacity-50
              disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400
              dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600
            "
            href="<%= show_course_quiz_path(@course, quiz) %>"
          >
            Start Quiz
            <svg
              class="flex-shrink-0 w-4 h-4"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            ><path d="m9 18 6-6-6-6"/></svg>
          </a>
        <% end %>

        <% if quiz.attempted_by? current_user %>
          <p class="text-gray-600 dark:text-gray-400">
            Correct Answers:
            <%= quiz.correct_answers current_user %>
            /
            <%= quiz.questions.count %>
          </p>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
